The `/usr/games/cowsay` game is run from `child_process.spawnSync`.

The settings endpoint sets the settings for `ctx.state.user`, which is also equal to the `username` cookie. The setting name is also user-controlled.

This allows us to perform prototype pollution. I used `__proto__` as the username, which will set settings for `{}.__proto__`. Then, we can use `shell` as the setting name to set `shell=true` for all objects.

This makes the command run within a shell, allowing us to perform command injection:

`http://cowsay-nodes.chal.acsc.asia:64280/cowsay?say=test;echo%20$FLAG`

This will output the `FLAG` environment variable.
