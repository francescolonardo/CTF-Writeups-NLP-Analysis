So the challenge was an easy one. `Cheap` can be bought by entering a valid credit card but purchase failed for `flag`. After looking at the challenge for a very long time, `data` parameter in the URL looked suspicious.
[`data` during buying of `flag`]
[`data` contents during buying of `cheap`]
[`data` contents after failed purchase]
[`data` contents after successful purchase]

So, three successful purhases of `cheap` gave same prefix and prefix changed in unsuccessful purchase.
Also suffix of `c1` and `cp1` are same, so most probably they contain information about `product name` and suffix contain `purchase status` 

Initially I tried to decode the data contents but got no luck.
So I just tried to brute-force the prefix using the script.
[Python script: Brute-force the prefix by trying various combinations of the data from failed and successful purchases]

And obtained the flag URL.
