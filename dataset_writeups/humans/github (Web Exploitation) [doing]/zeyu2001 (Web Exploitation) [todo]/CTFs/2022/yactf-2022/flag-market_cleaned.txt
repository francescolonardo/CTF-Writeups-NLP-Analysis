# Flag Market

The goal of the challenge was to buy a flag. However, our balance starts from 0.

We could see that when selling the flag, the relevant code does not validate that the flag price is positive.

Thereafter, the flag is saved into the database.

We could thus sell a flag with a negative price. In the `buyFlag` function, this negative price is subtracted from `buyerBalance`, increasing the buyer's total balance.

1\) Sell a flag with a negative price

2\) Buy the flag from a second account

3\) Perform a simple IDOR to get the flag with `flag_id=3`

